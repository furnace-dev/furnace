{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"Furnace \u91cf\u5316\u6846\u67b6","text":""},{"location":"#_1","title":"\u7279\u70b9","text":"<ul> <li>\u57fa\u4e8e Mojo + Rust \u5f00\u53d1\u7684\u9ad8\u9891\u4ea4\u6613\u6846\u67b6, \u652f\u6301\u6570\u5b57\u8d27\u5e01\u4ea4\u6613.</li> </ul>"},{"location":"#_2","title":"\u5f00\u53d1\u6587\u6863","text":""},{"location":"#_3","title":"\u6848\u4f8b","text":""},{"location":"#_4","title":"\u8d21\u732e","text":""},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"api/","title":"api \u6587\u6863","text":""},{"location":"api/#api_1","title":"\u4ea4\u6613\u6240 api","text":""},{"location":"api/#api_2","title":"\u4e2d\u95f4\u4ef6 api","text":""},{"location":"developer/","title":"\u5f00\u53d1\u73af\u5883","text":""},{"location":"developer/#_2","title":"\u5b89\u88c5\u4f9d\u8d56","text":"<ul> <li>\u2705 \u5b89\u88c5 <code>magic + mojo</code></li> <li>\u2705 \u5b89\u88c5 <code>rust + cargo</code></li> <li>\u2705 \u5b89\u88c5 <code>go-task</code>(Taskfile.yml) \u6784\u5efa\u5de5\u5177</li> </ul>"},{"location":"developer/#mojo","title":"mojo \u5f00\u53d1\u73af\u5883","text":"<ul> <li>\u2705 \u5b89\u88c5 magic</li> </ul>"},{"location":"developer/#rust","title":"rust \u5f00\u53d1\u73af\u5883","text":"<ul> <li>\u2705 \u4f7f\u7528 rustup \u5b89\u88c5 rust</li> </ul>"},{"location":"developer/#vscode","title":"vscode \u914d\u7f6e","text":""},{"location":"developer/#vscode_1","title":"vscode \u63d2\u4ef6","text":"<ul> <li>\u6ce8\u610f: \u8981\u5b89\u88c5 <code>mojo(nightly)</code> \u7684\u63d2\u4ef6, \u624d\u80fd\u6b63\u5e38\u8865\u5168!!!</li> <li>Remote - SSH<ul> <li>ssh \u8fde\u63a5 \u865a\u62df\u673a or \u5bb9\u5668, \u9700\u8981\u6b64\u63d2\u4ef6</li> </ul> </li> </ul>"},{"location":"developer/#macos-orbstack-ubuntu","title":"macos + orbstack + ubuntu \u865a\u62df\u673a","text":"<ul> <li>vscode </li> <li>m1 mac \u662f\u652f\u6301 mojo \u7684, \u4e0d\u8fc7\u90e8\u5206\u5e93\u5728 rust ffi \u7f16\u8bd1 + \u94fe\u63a5, \u76ee\u524d\u6709\u95ee\u9898.</li> <li> <p>\u7edf\u4e00\u4f7f\u7528 ubuntu \u865a\u62df\u673a\u73af\u5883.</p> </li> <li> <p>\u5728 mac \u7528\u6237\u6839\u76ee\u5f55 ~/.ssh/config \u914d\u7f6e\u5982\u4e0b ssh \u8fde\u63a5\u914d\u7f6e</p> </li> </ul> <pre><code># \u5bf9\u5e94 orb \u865a\u62df\u673a\u7684 ssh \u914d\u7f6e\nHost orb22    # \u522b\u540d\n    HostName localhost\n    Port 32222    # \u7aef\u53e3\uff0c\u7a0d\u540e\u4f1a\u8fdb\u884c\u4fee\u6539\n    User dev    # \u7528\u6237\u540d\n    IdentityFile ~/.orbstack/ssh/id_ed25519    # \u79c1\u94a5\u6587\u4ef6\n</code></pre>"},{"location":"developer/#_3","title":"\u7f16\u8bd1\u6846\u67b6","text":"<ul> <li>\u2705 Taskfile.yml \u6587\u4ef6\u7684\u6784\u5efa\u811a\u672c, \u540c\u65f6\u652f\u6301 <code>macOS</code> \u548c <code>Linux</code>.</li> </ul> <pre><code># \u540c\u65f6\u7f16\u8bd1\u4f9d\u8d56\u5e93\u548c\u6846\u67b6\ntask build\n</code></pre>"},{"location":"developer/#_4","title":"\u7f16\u8bd1\u6846\u67b6\u4f9d\u8d56\u5e93","text":"<ul> <li>\u2705 \u6846\u67b6\u5e95\u5c42\u4f9d\u8d56\u4e3a rust \u5e93, \u7f16\u8bd1 rust ffi \u5e95\u5c42\u4f9d\u8d56\u5e93</li> </ul> <pre><code># \u4e0b\u8f7d\u4f9d\u8d56\u5230 tmp/ \ntask get:requirements\n\n# \u7f16\u8bd1 tmp/ \u4e0b\u7684\u4f9d\u8d56\u5e93, \u5e76\u628a\u7f16\u8bd1\u7ed3\u679c, \u81ea\u52a8 copy \u5230 ./bin/ \u76ee\u5f55 \ntask build:requirements    \n</code></pre>"},{"location":"developer/#_5","title":"\u7f16\u8bd1\u6846\u67b6\u5305","text":"<ul> <li>\u2705 \u628a mojo \u91cf\u5316\u6846\u67b6\u7f16\u8bd1\u4e3a <code>.mojopkg</code> \u683c\u5f0f\u7684\u4e8c\u8fdb\u5236\u5305.</li> <li>\u2705 \u5199\u7b56\u7565\u7684\u5de5\u7a0b,\u9700\u8981\u540c\u65f6 copy <code>.mojopkg</code> \u5305 \u548c <code>./bin/</code> \u91cc\u7684 rust \u4e8c\u8fdb\u5236\u5e93\u4f9d\u8d56.</li> </ul> <pre><code># \u7f16\u8bd1 mojo \u5305, \u5e76 copy \u5230 ./bin/ \u76ee\u5f55\ntask build:pkg\n</code></pre>"},{"location":"developer/#_6","title":"\u8fd0\u884c\u793a\u4f8b","text":"<ul> <li>\u2705 \u6839\u636e <code>.env.example</code> \u6587\u4ef6, \u521b\u5efa <code>.env</code> \u6587\u4ef6</li> <li>\u2705 \u6dfb\u52a0\u73af\u5883\u53d8\u91cf\u5230 <code>.env</code> \u6587\u4ef6\u4e2d, \u5305\u542b\u4ea4\u6613\u6240\u7684 API-KEY</li> </ul> <pre><code># \u8fd0\u884c\u793a\u4f8b \ntask run:demo\n</code></pre>"},{"location":"developer/#_7","title":"\u7b56\u7565\u7f16\u5199","text":"<ul> <li>\u2705 \u5199\u7b56\u7565\u7684\u5de5\u7a0b,\u9700\u8981\u540c\u65f6 copy <code>.mojopkg</code> \u5305 \u548c <code>./bin/</code> \u91cc\u7684 rust \u4e8c\u8fdb\u5236\u5e93\u4f9d\u8d56.</li> </ul>"},{"location":"developer/linux/","title":"Linux \u5f00\u53d1\u73af\u5883","text":""},{"location":"developer/macos/","title":"MacOS \u5f00\u53d1\u73af\u5883","text":""},{"location":"developer/macos/#os","title":"\u5b89\u88c5 os \u4f9d\u8d56","text":"<pre><code>brew install pkgconf # pkg-config\nbrew install llvm \nbrew install lld \n</code></pre> <ul> <li>\u6ce8\u610f\u8bbe\u7f6e <code>llvm</code> \u73af\u5883\u53d8\u91cf:</li> </ul> <pre><code>fish_add_path /opt/homebrew/opt/llvm/bin\n\n\nset -gx LDFLAGS \"-L/opt/homebrew/opt/llvm/lib\"\nset -gx CPPFLAGS \"-I/opt/homebrew/opt/llvm/include\"\n\n\n# \u67e5\u770b\u73af\u5883\u53d8\u91cf:\necho $LDFLAGS  \necho $CPPFLAGS\n</code></pre>"},{"location":"developer/macos/#magic-mojo","title":"\u5b89\u88c5 magic &amp; mojo","text":"<ul> <li>\u5b89\u88c5 magic</li> </ul> <pre><code>task magic:install\n</code></pre>"},{"location":"developer/macos/#rustup-rust","title":"\u5b89\u88c5 rustup &amp; rust","text":"<ul> <li>\u4f7f\u7528 rustup \u5b89\u88c5 rust</li> </ul>"},{"location":"developer/macos/#vscode","title":"vscode \u914d\u7f6e","text":"<ul> <li>\u5b89\u88c5 mojo \u63d2\u4ef6</li> </ul>"},{"location":"developer/macos/#faq","title":"FAQ:","text":""},{"location":"developer/macos/#macos-rust-ffi","title":"macos \u7f16\u8bd1 rust ffi \u95ee\u9898","text":"<ul> <li>\u9047\u5230\u7684\u94fe\u63a5\u9519\u8bef</li> </ul> <pre><code>0  0x100526074  __assert_rtn + 72\n1  0x100493994  ld::DynamicAtomFile::makeNamedAtom(std::__1::basic_string_view&lt;char, std::__1::char_traits&lt;char&gt;&gt;, ld::file_format::Scope, bool) + 488\n2  0x10045c640  ld::InputFiles::ObjectFileParser::addAtomsForSection(mach_o::Image const&amp;, ld::InputFiles::ObjectFileParser::SectionData&amp;) + 5528\n3  0x10045e058  ld::InputFiles::SliceParser::parseObjectFile(mach_o::Header const*) const + 2904\n4  0x10046f830  ld::InputFiles::parseAllFiles(void (ld::AtomFile const*) block_pointer)::$_8::operator()(unsigned long, ld::FileInfo const&amp;) const + 440\n5  0x190e59428  _dispatch_client_callout2 + 20\n6  0x190e6d850  _dispatch_apply_invoke3 + 336\n7  0x190e593e8  _dispatch_client_callout + 20\n8  0x190e5ac68  _dispatch_once_callout + 32\n9  0x190e6c8a4  _dispatch_apply_invoke + 252\n10  0x190e593e8  _dispatch_client_callout + 20\n11  0x190e6b080  _dispatch_root_queue_drain + 864\n12  0x190e6b6b8  _dispatch_worker_thread2 + 156\n13  0x191005fd0  _pthread_wqthread + 228\nld: Assertion failed: (name.size() &lt;= maxLength), function makeSymbolStringInPlace, file SymbolString.cpp, line 74.\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nmojo: error: failed to link executable\nCommand executed successfully\n</code></pre> <ul> <li>\u53ef\u80fd\u7684\u4fee\u6539\u65b9\u6cd5 <code>.cargo/config.toml</code>: (\u548c <code>lld</code> \u6709\u5173)</li> </ul> <pre><code>#\n# brew install llvm\n# brew install lld\n#\n[target.aarch64-apple-darwin]\nrustflags = [\"-C\", \"link-arg=-fuse-ld=lld\", ]\n#rustflags = [\"-C\", \"link-arg=-fuse-ld=/opt/homebrew/opt/lld/bin/ld64.lld\"]\n</code></pre> <p>\u53c2\u8003:</p> <ul> <li>https://users.rust-lang.org/t/linker-dies-when-using-knuffel/101753/7</li> <li>https://github.com/rust-lang/rust/issues/130729#issuecomment-2645935599</li> </ul>"},{"location":"developer/solution/","title":"\u6280\u672f\u65b9\u6848\u8c03\u7814","text":"<ul> <li>\u6280\u672f\u9009\u578b\u65b9\u6848</li> </ul>"},{"location":"engine/","title":"\u91cf\u5316\u5f15\u64ce\u6587\u6863","text":""},{"location":"engine/#_2","title":"\u4ea4\u6613\u6240","text":"<ul> <li>TODO</li> </ul>"},{"location":"engine/#_3","title":"\u7b56\u7565","text":"<ul> <li>TODO</li> </ul>"},{"location":"engine/#_4","title":"\u5e95\u5c42\u63a5\u53e3","text":"<ul> <li>TODO </li> </ul>"}]}